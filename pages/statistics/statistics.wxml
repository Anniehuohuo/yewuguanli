<!-- ç»Ÿè®¡é¡µé¢ -->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <text class="page-title">æ•°æ®ç»Ÿè®¡</text>
  </view>
  
  <!-- æ—¶é—´ç­›é€‰ -->
  <view class="filter-card">
    <view class="filter-section">
      <view class="filter-options">
        <view class="filter-item {{timeFilter === 'today' ? 'active' : ''}}" bindtap="setTimeFilter" data-filter="today">
          <text class="filter-text">ä»Šæ—¥</text>
        </view>
        <view class="filter-item {{timeFilter === 'week' ? 'active' : ''}}" bindtap="setTimeFilter" data-filter="week">
          <text class="filter-text">æœ¬å‘¨</text>
        </view>
        <view class="filter-item {{timeFilter === 'month' ? 'active' : ''}}" bindtap="setTimeFilter" data-filter="month">
          <text class="filter-text">æœ¬æœˆ</text>
        </view>
        <view class="filter-item {{timeFilter === 'year' ? 'active' : ''}}" bindtap="setTimeFilter" data-filter="year">
          <text class="filter-text">æœ¬å¹´</text>
        </view>
        <view class="filter-item {{timeFilter === 'custom' ? 'active' : ''}}" bindtap="setTimeFilter" data-filter="custom">
          <text class="filter-text">è‡ªå®šä¹‰</text>
        </view>
      </view>
    </view>
    
    <!-- è‡ªå®šä¹‰æ—¥æœŸé€‰æ‹© -->
    <view class="date-selector" wx:if="{{timeFilter === 'custom'}}">
      <view class="date-range">
        <view class="date-item">
          <view class="date-label">å¼€å§‹æ—¥æœŸ</view>
          <picker mode="date" value="{{startDate}}" bindchange="bindStartDateChange">
            <view class="date-value">
              <text class="date-text">{{startDate || 'é€‰æ‹©æ—¥æœŸ'}}</text>
              <text class="date-icon">ğŸ“…</text>
            </view>
          </picker>
        </view>
        
        <view class="date-separator">è‡³</view>
        
        <view class="date-item">
          <view class="date-label">ç»“æŸæ—¥æœŸ</view>
          <picker mode="date" value="{{endDate}}" bindchange="bindEndDateChange">
            <view class="date-value">
              <text class="date-text">{{endDate || 'é€‰æ‹©æ—¥æœŸ'}}</text>
              <text class="date-icon">ğŸ“…</text>
            </view>
          </picker>
        </view>
      </view>
      
      <view class="search-btn" bindtap="searchData">
        <text class="search-icon">ğŸ”</text>
        <text class="search-text">æŸ¥è¯¢</text>
      </view>
    </view>
  </view>
  
  <!-- æ•°æ®çœ‹æ¿ -->
  <view class="dashboard-grid">
    <view class="dashboard-card customer-card" bindtap="viewCustomerDetail">
      <view class="card-header">
        <view class="card-icon">ğŸ‘¥</view>
        <view class="card-trend">+{{statistics.customerGrowth || 0}}</view>
      </view>
      <view class="card-content">
        <view class="card-value">{{statistics.totalCustomers}}</view>
        <view class="card-label">å®¢æˆ·æ€»æ•°</view>
      </view>
    </view>
    
    <view class="dashboard-card visit-card" bindtap="viewVisitDetail">
      <view class="card-header">
        <view class="card-icon">ğŸ“</view>
        <view class="card-trend">+{{statistics.visitGrowth || 0}}</view>
      </view>
      <view class="card-content">
        <view class="card-value">{{statistics.totalVisits}}</view>
        <view class="card-label">æ‹œè®¿æ¬¡æ•°</view>
      </view>
    </view>
    
    <view class="dashboard-card checkin-card" bindtap="viewCheckinDetail">
      <view class="card-header">
        <view class="card-icon">ğŸ“</view>
        <view class="card-trend">+{{statistics.checkinGrowth || 0}}</view>
      </view>
      <view class="card-content">
        <view class="card-value">{{statistics.totalCheckins}}</view>
        <view class="card-label">æ‰“å¡æ¬¡æ•°</view>
      </view>
    </view>
    
    <view class="dashboard-card photo-card" bindtap="viewPhotoDetail">
      <view class="card-header">
        <view class="card-icon">ğŸ“·</view>
        <view class="card-trend">+{{statistics.photoGrowth || 0}}</view>
      </view>
      <view class="card-content">
        <view class="card-value">{{statistics.totalPhotos}}</view>
        <view class="card-label">æ‹ç…§æ•°é‡</view>
      </view>
    </view>
  </view>
</view>
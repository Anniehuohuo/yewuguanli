<!--pages/business/detail/detail.wxml-->
<view class="container">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading">
    <text>加载中...</text>
  </view>

  <!-- 商家详情内容 -->
  <view wx:else class="business-detail">
    <!-- 商家图片轮播 -->
    <swiper class="business-images" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000">
      <swiper-item wx:for="{{business.images}}" wx:key="index">
        <image src="{{item}}" mode="aspectFill" bindtap="previewImage" data-src="{{item}}"></image>
      </swiper-item>
    </swiper>

    <!-- 商家基本信息 -->
    <view class="business-info">
      <view class="business-header">
        <text class="business-name">{{business.name}}</text>
        <view class="business-rating">
          <text class="rating-score">{{business.rating}}</text>
          <text class="rating-text">分</text>
        </view>
      </view>
      
      <view class="business-category">
        <text>{{business.category}}</text>
      </view>
      
      <view class="business-description">
        <text>{{business.description}}</text>
      </view>
    </view>

    <!-- 联系信息 -->
    <view class="contact-info">
      <view class="contact-item" bindtap="makeCall">
        <view class="contact-icon">
          <text class="iconfont icon-phone">📞</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">电话</text>
          <text class="contact-value">{{business.phone}}</text>
        </view>
        <view class="contact-arrow">></view>
      </view>
      
      <view class="contact-item" bindtap="viewLocation">
        <view class="contact-icon">
          <text class="iconfont icon-location">📍</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">地址</text>
          <text class="contact-value">{{business.address}}</text>
        </view>
        <view class="contact-arrow">></view>
      </view>
      
      <view class="contact-item">
        <view class="contact-icon">
          <text class="iconfont icon-time">🕐</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">营业时间</text>
          <text class="contact-value">{{business.hours}}</text>
        </view>
      </view>
    </view>

    <!-- 菜单/服务 -->
    <view class="menu-section">
      <view class="section-title">
        <text>推荐菜品</text>
      </view>
      
      <view class="menu-list">
        <view class="menu-item" wx:for="{{business.menu}}" wx:key="index">
          <view class="menu-info">
            <text class="menu-name">{{item.name}}</text>
            <text class="menu-description">{{item.description}}</text>
          </view>
          <view class="menu-price">
            <text>¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
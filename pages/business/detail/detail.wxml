<!--pages/business/detail/detail.wxml-->
<view class="container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- å•†å®¶è¯¦æƒ…å†…å®¹ -->
  <view wx:else class="business-detail">
    <!-- å•†å®¶å›¾ç‰‡è½®æ’­ -->
    <swiper class="business-images" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000">
      <swiper-item wx:for="{{business.images}}" wx:key="index">
        <image src="{{item}}" mode="aspectFill" bindtap="previewImage" data-src="{{item}}"></image>
      </swiper-item>
    </swiper>

    <!-- å•†å®¶åŸºæœ¬ä¿¡æ¯ -->
    <view class="business-info">
      <view class="business-header">
        <text class="business-name">{{business.name}}</text>
        <view class="business-rating">
          <text class="rating-score">{{business.rating}}</text>
          <text class="rating-text">åˆ†</text>
        </view>
      </view>
      
      <view class="business-category">
        <text>{{business.category}}</text>
      </view>
      
      <view class="business-description">
        <text>{{business.description}}</text>
      </view>
    </view>

    <!-- è”ç³»ä¿¡æ¯ -->
    <view class="contact-info">
      <view class="contact-item" bindtap="makeCall">
        <view class="contact-icon">
          <text class="iconfont icon-phone">ğŸ“</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">ç”µè¯</text>
          <text class="contact-value">{{business.phone}}</text>
        </view>
        <view class="contact-arrow">></view>
      </view>
      
      <view class="contact-item" bindtap="viewLocation">
        <view class="contact-icon">
          <text class="iconfont icon-location">ğŸ“</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">åœ°å€</text>
          <text class="contact-value">{{business.address}}</text>
        </view>
        <view class="contact-arrow">></view>
      </view>
      
      <view class="contact-item">
        <view class="contact-icon">
          <text class="iconfont icon-time">ğŸ•</text>
        </view>
        <view class="contact-content">
          <text class="contact-label">è¥ä¸šæ—¶é—´</text>
          <text class="contact-value">{{business.hours}}</text>
        </view>
      </view>
    </view>

    <!-- èœå•/æœåŠ¡ -->
    <view class="menu-section">
      <view class="section-title">
        <text>æ¨èèœå“</text>
      </view>
      
      <view class="menu-list">
        <view class="menu-item" wx:for="{{business.menu}}" wx:key="index">
          <view class="menu-info">
            <text class="menu-name">{{item.name}}</text>
            <text class="menu-description">{{item.description}}</text>
          </view>
          <view class="menu-price">
            <text>Â¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>